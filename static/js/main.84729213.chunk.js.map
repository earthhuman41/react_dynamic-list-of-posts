{"version":3,"sources":["api/loadData.js","components/User/User.js","components/CommentItem/CommentItem.js","components/CommentsList/CommentsList.js","components/PostItem/PostItem.js","components/ListOfPosts/ListOfPosts.js","components/App/App.js","index.js"],"names":["loadData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","link","loadedData","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","this","arguments","User","_this$props$user","props","user","name","email","react_default","createElement","className","React","Component","CommentItem","comment","components_User_User","body","CommentsList","state","showComments","setState","prevState","_this2","comments","onClick","map","components_CommentItem_CommentItem","PostItem","_this$props$post","post","postItem","postAuthor","postComments","title","components_CommentsList_CommentsList","ListOfPosts","value","searchPost","event","target","trim","_this","posts","filter","preparedValue","replace","includes","htmlFor","placeholder","type","id","onChange","e","components_PostItem_PostItem","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","load","btnText","preparePosts","isLoaded","users","preparedPosts","find","userId","postId","components_ListOfPosts_ListOfPosts","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.84729213.chunk.js","sourcesContent":["export const postsLink = 'https://jsonplaceholder.typicode.com/posts';\nexport const usersLink = 'https://jsonplaceholder.typicode.com/users';\nexport const commentsLink = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const loadData = async(link) => {\n  let loadedData = await fetch(link);\n  loadedData = await loadedData.json();\n  return loadedData;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './User.css';\n\nclass User extends React.Component {\n  render() {\n    const { name, email } = this.props.user;\n    return (\n      <div className=\"user\">\n        {\n          name && (\n            <p className=\"user__name\">\n              {name}\n            </p>\n          )\n        }\n        {\n          email && (\n            <p className=\"user__email\">\n              {email}\n            </p>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nimport User from \"../User/User\";\nimport './CommentItem.css';\n\n\nconst CommentItem = ({ comment }) => {\n  return (\n    <div className=\"comments__item\">\n      <User user={{ name: comment.name }} />\n      <p className=\"comments__item__body\">{comment.body}</p>\n    </div>\n  );\n};\n\nCommentItem.propTypes = {\n  comment: PropTypes.shape({\n    name: PropTypes.string,\n    body: PropTypes.string,\n  }).isRequired,\n};\n\nexport default CommentItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './CommentsList.css';\nimport CommentItem from '../CommentItem/CommentItem';\n\nclass CommentsList extends React.Component {\n  state = {\n    showComments: false,\n  };\n\n  showComments() {\n    this.setState(prevState => ({ showComments: !prevState.showComments }));\n  }\n\n  render() {\n    const { comments } = this.props;\n    return (\n      <div>\n        {\n          <button className=\"show-comments-btn\" onClick={() => { this.showComments(true); }}>\n            {\n              !this.state.showComments\n                ? 'Показать комментарии'\n                : 'Скрыть комментарии'\n            }\n          </button>\n        }\n        {\n          this.state.showComments && (\n            <div className=\"comments\">\n              {\n                comments.map(comment => <CommentItem comment={comment} />)\n              }\n            </div>)\n        }\n      </div>\n    );\n  }\n}\n\nCommentsList.propTypes = {\n  comments: PropTypes.object.isRequired,\n};\n\nexport default CommentsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './PostItem.css';\nimport CommentList from '../CommentsList/CommentsList';\nimport User from \"../User/User\";\n\nclass PostItem extends React.Component {\n\n  render() {\n    const { postItem, postAuthor, postComments } = this.props.post;\n    return (\n      <div className=\"post__container\">\n        <article className=\"post\">\n          <h2 className=\"post__title\">{postItem.title}</h2>\n          <p>{postItem.body}</p>\n\n          <User user={postAuthor} />\n\n        </article>\n        <CommentList comments={postComments} />\n      </div>\n    );\n  }\n}\n\nPostItem.propTypes = {\n  post: PropTypes.shape({\n    postItem: PropTypes.shape({\n      title: PropTypes.string,\n      body: PropTypes.string,\n    }),\n    postAuthor: PropTypes.object,\n    postComments: PropTypes.object,\n  }).isRequired,\n};\nexport default PostItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ListOfPosts.css';\nimport PostItem from '../PostItem/PostItem';\n\nclass ListOfPosts extends React.Component {\n\n  state = {\n    value: '',\n  };\n\n  searchPost = (event) => {\n    const value = event.target.value.trim();\n    this.setState({ value });\n  };\n\n  filter(value) {\n    // eslint-disable-next-line max-len\n    return this.props.posts.filter((post) => {\n      const preparedValue = value.replace(/ /g, '');\n      return post.postItem.title.replace(/ /g, '').includes(preparedValue);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"posts-list\">\n\n        <label htmlFor=\"search-post\" className=\"search-post\">\n          {/* eslint-disable-next-line max-len */}\n          <input placeholder=\"Search post\" type=\"search\" id=\"search-post\" className=\"search-post__input\" onChange={(e) => { this.searchPost(e); }} />\n        </label>\n\n        <div className=\"posts\">\n          {\n            this.filter(this.state.value).map(post => <PostItem post={post} />)\n          }\n        </div>\n\n      </div>\n    );\n  }\n}\n\nListOfPosts.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ListOfPosts;\n","import React from 'react';\nimport './App.css';\n\nimport {\n  usersLink, commentsLink, postsLink, loadData,\n} from '../../api/loadData';\n\nimport ListOfPosts from '../ListOfPosts/ListOfPosts';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.preparePosts();\n\n    this.state = {\n      posts: [],\n      isLoaded: false,\n      btnText: 'Load',\n    };\n  }\n\n  load = async() => {\n    this.setState({ btnText: 'Loading' });\n    await this.preparePosts();\n    this.setState(prevState => ({ isLoaded: !prevState.isLoaded }));\n  };\n\n  async preparePosts() {\n    const users = await loadData(usersLink);\n    const posts = await loadData(postsLink);\n    const comments = await loadData(commentsLink);\n\n    const preparedPosts = posts.map(post => ({\n      postItem: post,\n      postAuthor: users.find(user => user.id === post.userId),\n      postComments: comments.filter(comment => comment.postId === post.id),\n    }));\n\n    this.setState({\n      posts: preparedPosts,\n    });\n  }\n\n  render() {\n    return (\n      <main className=\"main\">\n        {\n          !this.state.isLoaded && (\n            <button onClick={() => this.load()} className=\"load-btn\">\n              {this.state.btnText}\n            </button>\n          )\n        }\n        {\n          this.state.isLoaded && <ListOfPosts posts={this.state.posts} />\n        }\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}