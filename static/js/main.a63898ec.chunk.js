(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(24)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),c=n.n(s),o=n(1),i=n.n(o),u=n(10),l=n(7),m=n(2),p=n(3),f=n(5),h=n(4),d=n(6),b=(n(18),function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),v=function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/users");case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/comments");case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=(n(19),n(20),n(21),n(22),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.name,n=e.email;return r.a.createElement("div",{className:"user"},t&&r.a.createElement("p",{className:"user__name"},t),n&&r.a.createElement("p",{className:"user__email"},n))}}]),t}(r.a.Component)),O=(n(23),function(e){var t=e.comment;return r.a.createElement("div",{className:"comments__item"},r.a.createElement(E,{user:{name:t.name}}),r.a.createElement("p",{className:"comments__item__body"},t.body))}),y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={commentsAreVisible:!1},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"togleComments",value:function(){this.setState(function(e){return{commentsAreVisible:!e.commentsAreVisible}})}},{key:"render",value:function(){var e=this,t=this.props.comments,n=this.state.commentsAreVisible;return r.a.createElement("div",null,r.a.createElement("button",{className:"show-comments-btn",onClick:function(){e.togleComments(!0)}},n?"\u0421\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),n&&r.a.createElement("div",{className:"comments"},t.map(function(e){return r.a.createElement(O,{comment:e,key:e.id})})))}}]),t}(r.a.Component),w=function(e){var t=e.post;return r.a.createElement("div",{className:"post__container"},console.log(t.postItem),r.a.createElement("article",{className:"post"},r.a.createElement("h2",{className:"post__title"},t.postItem.title),r.a.createElement("p",null,t.postItem.body),r.a.createElement(E,{user:t.postAuthor})),r.a.createElement(y,{comments:t.postComments}))},k=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:""},n.searchPost=function(e){var t=e.target.value.trim();n.setState({searchValue:t})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"filterPosts",value:function(e){var t=e.replace(/\s+/g," ").toLowerCase();return this.props.posts.filter(function(e){return e.postItem.title.toLowerCase().includes(t)})}},{key:"render",value:function(){var e=this.filterPosts(this.state.searchValue);return r.a.createElement("div",{className:"posts-list"},r.a.createElement("label",{htmlFor:"search-post",className:"search-post"},r.a.createElement("input",{placeholder:"Search post",type:"search",id:"search-post",className:"search-post__input",onChange:this.searchPost})),r.a.createElement("div",{className:"posts"},e.map(function(e){return r.a.createElement(w,{post:e,key:e.id})})))}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).load=Object(l.a)(i.a.mark(function e(){var t,a,r,s,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({btnText:"Loading"}),e.next=3,Promise.all([v(),b(),j()]);case 3:t=e.sent,a=Object(u.a)(t,3),r=a[0],s=a[1],c=a[2],o=s.map(function(e){return{postItem:e,postAuthor:r.find(function(t){return t.id===e.userId}),postComments:c.filter(function(t){return t.postId===e.id})}}),n.setState(function(e){return{isLoaded:!e.isLoaded,posts:o}});case 10:case"end":return e.stop()}},e)})),n.state={posts:[],isLoaded:!1,btnText:"Load"},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"main"},this.state.isLoaded?r.a.createElement(k,{posts:this.state.posts}):r.a.createElement("button",{onClick:function(){return e.load()},className:"load-btn"},this.state.btnText))}}]),t}(r.a.Component);c.a.render(r.a.createElement(N,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.a63898ec.chunk.js.map